<!DOCTYPE html>
<html ng-app="cmod">
  <head>
    <!-- https://bootswatch.com/slate/ -->
    <link rel="stylesheet" href="bootstrap/dist/css/bootstrap-slate.min.css">
    <script>
      var package = require('./package.json');
      document.title = "cmod3 v" + package.version;
    </script>
    <script src="bower_components/jquery/dist/jquery.js"></script>
    <script src="bower_components/angular/angular.js"></script>
    <script src="bootstrap/dist/js/bootstrap.js"></script>
    <script src="app/cmod.js"></script>
    <script src="app/ui/controllers.js"></script>
    <style>
      /* global */
      @font-face {
        font-family: 'Lobster';
        src: url('fonts/Lobster_1.3.otf');
      }
      @font-face {
        font-family: 'Droid Sans';
        src: url('fonts/DroidSans.ttf');
      }
      /* fixes */
      button {
        -webkit-app-region: no-drag;
      }
      button:focus {outline:0 !important;}
      * {
        cursor: default !important;
        -webkit-user-select: none;
      }
      /* design */
      html {
        width: 100%;
        height: 100%;
        -webkit-app-region: drag;
        overflow: hidden;
      }
      body {
        width: 100%;
        height: 100%;
        font-family: 'Droid Sans';
      }
      body.hover {
        opacity: 0.5;
        background-color: #101723;
      }
      #brand {
        font-family: 'Lobster', cursive;
        font-size: 22px;
      }
      div#vus {
        position: absolute;
        top: 9px;
      }
      div.vu {
        width: 400px; height: 4px;
        margin: 8px;
        background: -webkit-linear-gradient(left, #4be553 0%,#4be553 54%,#d3e200 79%,#f4c700 86%,#ff0000 100%); /* Chrome10+,Safari5.1+ */
      }
      div.vu_overlay {
        width: 100%; height: 100%;
        background-color: #0c0e0f;
        float: right;
        right: 0;
        transform-origin: right;
      }
      table#playlist {
        border-radius: 5px;
      }
      table#playlist tr.selected_song {
        color: white;
      }
      div#footer {
        background-color: black;
        color: #444;
        margin-top: 4px; padding-bottom: 0px;
      }
      div#main {
        overflow-y: scroll;
        padding-top: 30px;
        padding-bottom: 30px;
        padding-left: 40px;
        padding-right: 40px;
      }

      /* bootstrap */
      nav {
        padding-left: 20px;
      }
      .navbar {
        margin-bottom: 0;
        border-radius: 0;
      }
      .table thead tr th {
        border: 0;
      }
      .table thead, .table tfoot {
        background-color: #24272A;
      }
      .progress {
        height: 12px;
        margin-bottom: 0;
        position: relative;
        border-radius: 0;
      }
      .progress-bar {
        transform-origin: left;
        transform: scaleX(0);
        width: 100%;
      }
      .progress span {
        position: absolute;
        color: white;
        left: 0;
        top: 0;
        font-size: 8px;
        line-height: 12px;
        width: 100%;
      }
    </style>
  </head>
  <body ng-controller="cmodCtrl">
    <audio id="audio" src=""></audio>

    <div class="container-fluid" style="padding: 0;">

      <ng-include src="'app/ui/header/header.tpl.html'"></ng-include>

      <div id="main" class="container-fluid">
        <div class="row">
          <div class="col-xs-12">
            <table id="playlist" class="table table-condensed table-hover">
              <thead>
                <tr>
                  <th class="col-xs-1"><small>#</small></th>
                  <th class="col-xs-6"><small>SONG</small></th>
                  <th class="col-xs-4"><small>FILENAME</small></th>
                  <th class="col-xs-1"><small>TIME</small></th>
                </tr>
              </thead>
              <tbody>
                <tr ng-right-click="showOptions($index, $event)" ng-repeat="song in playlist" ng-click="playSongInPlaylist($index)">
                  <td>{{ $index + 1 }}</td>
                  <td>{{ song.name }}</td>
                  <td>{{ song.filename }}</td>
                  <td>{{ song.duration }}</td>
                </tr>
              </tbody>
              <tfoot>
                <tr>
                  <td colspan="4"><small>Total songs: {{ playlist.length }}</small></td>
                </tr>
              </tfoot>
            </table>
          </div>
        </div>
        <div class="row">
          <div class="col-xs-12">
            <!--<p id="vul"></p>
            <p id="vur"></p>-->
          </div>
        </div>

      </div>


      <!--footer-->
        <div id="footer" class="navbar-fixed-bottom">
            <div style="text-align: center;" class="container-fluid">
              <div class="row">
                <div style="margin-bottom: 4px" class="col-xs-12">
                  <small>{{ current_song || "Long live to the modscene" }}</small>
                </div>
              </div>
              <div class="row">
                <div style="margin-bottom: 4px" class="col-xs-12">
                  <button class="btn btn-default" ng-click="play()">
                    <span class="glyphicon glyphicon-play" aria-hidden="true"></span>
                    Play
                  </button>
                  <button class="btn btn-default" ng-click="stop()">
                    <span class="glyphicon glyphicon-stop" aria-hidden="true"></span>
                    Stop
                  </button>
                  <button class="btn btn-default" ng-click="pause()">
                    <span class="glyphicon glyphicon-pause" aria-hidden="true"></span>
                    Pause
                  </button>
                  <button class="btn btn-default" ng-click="addFilesToPlaylist()">
                    <span class="glyphicon glyphicon-file" aria-hidden="true"></span>
                    Add file(s)
                  </button>
                  <input style="display: none" id="fileDialog" type="file"/>
                  <button class="btn btn-default" ng-click="playNectarine()">
                    <span class="glyphicon glyphicon-cd" aria-hidden="true"></span>
                    Play Nectarine Radio
                  </button>
                </div>
              </div>
              <div class="row">
                <div class="progress" ng-click="seekProgressBar($event)">
                  <div id="song_position_progress" class="progress-bar" role="progressbar">
                  </div>
                  <span id="song_position_label"></span>
                </div>
              </div>
          </div>
        </div>
      <!--/footer-->


    </div>
  </body>
</html>
